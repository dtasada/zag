import lib;

// Test generic parameter in signature
fn identity<T>(val: T) T {
    return val;
}

fn main() i32 {
    let x = identity<i32>(42);
    lib.printf("identity: %d\n", x);

    let y = identity<f32>(42);
    lib.printf("identity: %f\n", y);
    
    let ms = lib.alloc<i32>();
    let b = Box<i32> { content: 123 };
    b.print();
}

struct Box<T> {
    content: T,

    fn print(self: Box<T>) void {
        lib.printf("box: %d\n", self.content);
    }
}
